online-course-platform/
├─ README.md
├─ package.json                # (optional) root scripts, lint, format, etc.
├─ docker-compose.yml          # Postgres, backend, maybe nginx
├─ .env.example                # Shared env template (DB_URL, JWT_SECRET, etc.)
├─ /backend
├─ /frontend
├─ /docs
└─ /infra


backend/
├─ package.json
├─ jest.config.js
├─ .env.example
├─ src/
│  ├─ app.js                   # createExpressApp, mount middlewares + routes
│  ├─ server.js                # start server, listen(PORT)
│  ├─ config/
│  │  ├─ env.js                # load env, config objects
│  │  ├─ db.js                 # PostgreSQL pool / ORM client
│  │  ├─ logger.js
│  │  ├─ aws.js                # AWS S3 / Cloudflare Stream config
│  │  └─ payment.js            # VNPay/Momo config
│  ├─ routes/
│  │  ├─ index.js              # combine all routers
│  │  ├─ auth.routes.js        # UC1, UC2 (login, register, profile)
│  │  ├─ user.routes.js        # admin user mgmt (UC3)
│  │  ├─ course.routes.js      # UC4, UC5
│  │  ├─ enrollment.routes.js  # UC6, UC8 (enroll, progress)
│  │  ├─ payment.routes.js     # UC8, UC9 (checkout, webhook)
│  │  ├─ content.routes.js     # UC7, UC10 (search, content list)
│  │  ├─ quiz.routes.js        # UC11, UC12
│  │  ├─ chat.routes.js        # UC13, UC14 (REST + socket auth)
│  │  ├─ feedback.routes.js    # UC15
│  │  ├─ recommendation.routes.js # UC2, UC16
│  │  ├─ revenue.routes.js     # UC17
│  │  └─ system.routes.js      # UC18 (health, logs, backup triggers)
│  ├─ controllers/
│  │  ├─ auth.controller.js
│  │  ├─ user.controller.js
│  │  ├─ course.controller.js
│  │  ├─ enrollment.controller.js
│  │  ├─ payment.controller.js
│  │  ├─ content.controller.js
│  │  ├─ quiz.controller.js
│  │  ├─ chat.controller.js
│  │  ├─ feedback.controller.js
│  │  ├─ recommendation.controller.js
│  │  ├─ revenue.controller.js
│  │  └─ system.controller.js
│  ├─ services/
│  │  ├─ auth.service.js
│  │  ├─ user.service.js
│  │  ├─ course.service.js
│  │  ├─ enrollment.service.js
│  │  ├─ payment.service.js
│  │  ├─ content.service.js
│  │  ├─ quiz.service.js
│  │  ├─ chat.service.js
│  │  ├─ feedback.service.js
│  │  ├─ recommendation.service.js
│  │  ├─ revenue.service.js
│  │  └─ system.service.js
│  ├─ repositories/            # all DB queries separated from business logic
│  │  ├─ user.repository.js
│  │  ├─ course.repository.js
│  │  ├─ enrollment.repository.js
│  │  ├─ payment.repository.js
│  │  ├─ content.repository.js
│  │  ├─ quiz.repository.js
│  │  ├─ chat.repository.js
│  │  ├─ feedback.repository.js
│  │  ├─ recommendation.repository.js
│  │  └─ system.repository.js
│  ├─ models/                  # if you use an ORM like Prisma/Sequelize/TypeORM
│  │  ├─ index.js
│  │  ├─ user.model.js
│  │  ├─ course.model.js
│  │  ├─ lesson.model.js
│  │  ├─ enrollment.model.js
│  │  ├─ quiz.model.js
│  │  ├─ question.model.js
│  │  ├─ attempt.model.js
│  │  ├─ payment.model.js
│  │  ├─ chatMessage.model.js
│  │  └─ recommendationFeedback.model.js
│  ├─ middlewares/
│  │  ├─ auth.middleware.js    # verify JWT, attach user
│  │  ├─ role.middleware.js    # checkRole('ADMIN'/'INSTRUCTOR'/'STUDENT')
│  │  ├─ error.middleware.js   # error handler
│  │  └─ validate.middleware.js# request validation
│  ├─ utils/
│  │  ├─ jwt.js
│  │  ├─ password.js           # bcrypt helpers
│  │  ├─ response.js           # standard API responses
│  │  ├─ pagination.js
│  │  ├─ uploader.js           # S3/Cloudflare Stream upload
│  │  ├─ payment.vnpay.js
│  │  └─ payment.momo.js
│  ├─ sockets/
│  │  └─ chat.socket.js        # socket.io handlers for UC13, UC14
│  └─ tests/
│     ├─ unit/
│     │  ├─ auth.service.test.js
│     │  ├─ course.service.test.js
│     │  └─ ...
│     └─ integration/
│        ├─ auth.routes.test.js
│        ├─ course.routes.test.js
│        └─ ...
└─ scripts/
   ├─ migrate.js               # run DB migrations
   └─ seed.js                  # seed demo data



frontend/
├─ package.json
├─ next.config.js
├─ postcss.config.js
├─ tailwind.config.js
├─ tsconfig.json               # or jsconfig if you stay with JS
├─ .env.local.example
└─ src/
   ├─ app/
   │  ├─ layout.tsx
   │  ├─ page.tsx              # Home: recommended courses (UC2, UC16)
   │  ├─ auth/
   │  │  ├─ login/page.tsx     # UC1, UC2
   │  │  └─ register/page.tsx
   │  ├─ courses/
   │  │  ├─ page.tsx           # Course listing + search (UC7)
   │  │  └─ [courseId]/
   │  │     ├─ page.tsx        # Course detail, enroll button (UC8)
   │  │     └─ learn/
   │  │        └─ [lessonId]/page.tsx  # Video/PDF/quiz tab (UC10, UC11)
   │  ├─ dashboard/
   │  │  ├─ student/page.tsx   # enrolled courses, progress, certificates
   │  │  ├─ instructor/page.tsx# manage courses, students (UC4–UC6, UC17)
   │  │  └─ admin/page.tsx     # user, course, system mgmt (UC3, UC5, UC18)
   │  ├─ payments/
   │  │  ├─ checkout/page.tsx  # show order summary → redirect VNPay/Momo
   │  │  ├─ success/page.tsx   # UC8, UC9
   │  │  └─ cancel/page.tsx
   │  ├─ chat/
   │  │  ├─ [courseId]/page.tsx   # course channel (UC13)
   │  │  └─ instructor/[studentId]/page.tsx # 1-1 chat (UC14)
   │  ├─ feedback/
   │  │  └─ [courseId]/page.tsx  # rating + review form (UC15)
   │  ├─ profile/
   │  │  └─ page.tsx             # user profile, preferences
   │  └─ api/                    # (optional) Next.js route handlers if needed
   ├─ components/
   │  ├─ layout/
   │  │  ├─ Navbar.tsx
   │  │  ├─ Sidebar.tsx
   │  │  └─ Footer.tsx
   │  ├─ common/
   │  │  ├─ Button.tsx
   │  │  ├─ Modal.tsx
   │  │  ├─ Tabs.tsx
   │  │  └─ Pagination.tsx
   │  ├─ forms/
   │  │  ├─ TextInput.tsx
   │  │  ├─ Select.tsx
   │  │  └─ RatingInput.tsx
   │  ├─ course/
   │  │  ├─ CourseCard.tsx
   │  │  ├─ CourseFilterBar.tsx
   │  │  └─ LessonSidebar.tsx
   │  ├─ quiz/
   │  │  ├─ QuizQuestion.tsx
   │  │  └─ QuizResult.tsx
   │  ├─ chat/
   │  │  ├─ ChatWindow.tsx
   │  │  └─ MessageItem.tsx
   │  └─ dashboard/
   │     ├─ StatsCard.tsx
   │     └─ RevenueChart.tsx
   ├─ lib/
   │  ├─ apiClient.ts           # axios/fetch wrapper, attach JWT
   │  ├─ auth.ts                # helpers for token storage
   │  ├─ queryClient.ts         # if using React Query
   │  └─ socketClient.ts        # socket.io client for chat
   ├─ hooks/
   │  ├─ useAuth.ts
   │  ├─ useCourseSearch.ts
   │  ├─ useLessonContent.ts
   │  ├─ useQuiz.ts
   │  ├─ useChat.ts
   │  └─ useRecommendationFeedback.ts
   ├─ store/                    # optional (Zustand / Redux)
   │  ├─ userStore.ts
   │  ├─ cartStore.ts
   │  └─ uiStore.ts
   ├─ styles/
   │  ├─ globals.css
   │  └─ components.css
   └─ tests/
      ├─ components/
      └─ pages/
